#!/usr/bin/env ruby

# frozen_string_literal: true

require_relative '../lib/node'
require_relative '../lib/directed_acyclic_path_graph'
require_relative '../lib/dsl/root'
require_relative '../lib/runner'
require 'prettyprint'
require 'tty-progressbar'

args = ARGV.group_by { _1 =~ /^-/ }
raise 'no file task given' unless args[nil]

runner = Suburb::Runner.new
args[nil].each do |file|
  runner.run(File.expand_path(file), Array(args[0]).include?('-f'))
end
